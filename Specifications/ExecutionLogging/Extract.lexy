enum SimpleEnum
  First
  Next

function SimpleTarget
  parameters
    number NumberValue
    string StringValue
    boolean BooleanValue
    date DateValue
    SimpleEnum EnumValue
  results
    number NumberResult
    string StringResult
    boolean BooleanResult
    date DateResult
    SimpleEnum EnumResult
  Code
    NumberResult = NumberValue
    StringResult = StringValue
    BooleanResult = BooleanValue
    EnumResult = EnumValue

scenario ExtractInIfScopeParameters
  function
    parameters
      boolean Evil
      number NumberValue
    results
      number NumberResultParent
    Code
      if Evil
        number NumberResult
        SimpleTarget.Results params
        params.NumberResult = NumberValue
        extract(params)
        NumberResultParent = NumberResult
  parameters
    NumberValue = 5
    Evil = true
  results
    NumberResultParent = 5
  ExecutionLogging
    Log "Execute: ExtractInIfScopeParametersFunction"
      Log "Parameters"
        NumberValue = 5
        Evil = true
      Log "  if Evil"
        Log "    number NumberResult"
          NumberResult = 0
        Log "    SimpleTarget.Results params"
          params =
            NumberResult = 0
            StringResult = ""
            BooleanResult = false
            DateResult = d"0001-01-01T00:00:00"
            EnumResult = SimpleEnum.First
        Log "    params.NumberResult = NumberValue"
          NumberValue = 5
          params.NumberResult = 5
        Log "    extract(params)"
          params =
            NumberResult = 5
            StringResult = ""
            BooleanResult = false
            DateResult = d"0001-01-01T00:00:00"
            EnumResult = SimpleEnum.First
          NumberResult = 5
        Log "    NumberResultParent = NumberResult"
          NumberResult = 5
          NumberResultParent = 5
      Log "Results"
        NumberResultParent = 5